<div class="signup-page">
    <div class="signup-container fade-in">
        <div class="signup-header">
            <h1 class="text-gradient">Create Account</h1>
            <p class="subtitle">Join us today and get started</p>
        </div>

        <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
            <i class="bi bi-exclamation-circle me-2"></i>
            {{ errorMessage }}
        </div>

        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
            <div class="mb-3">
                <label for="username" class="form-label">
                    <i class="bi bi-person me-2"></i>Username
                </label>
                <input type="text" class="form-control" id="username" formControlName="username"
                    placeholder="Choose a username"
                    [class.is-invalid]="signupForm.get('username')?.invalid && signupForm.get('username')?.touched" />
                <div class="invalid-feedback"
                    *ngIf="signupForm.get('username')?.hasError('required') && signupForm.get('username')?.touched">
                    Username is required
                </div>
            </div>

            <div class="mb-3">
                <label for="email" class="form-label">
                    <i class="bi bi-envelope me-2"></i>Email Address
                </label>
                <input type="email" class="form-control" id="email" formControlName="email"
                    placeholder="Enter your email"
                    [class.is-invalid]="signupForm.get('email')?.invalid && signupForm.get('email')?.touched" />
                <div class="invalid-feedback"
                    *ngIf="signupForm.get('email')?.hasError('required') && signupForm.get('email')?.touched">
                    Email is required
                </div>
                <div class="invalid-feedback"
                    *ngIf="signupForm.get('email')?.hasError('email') && signupForm.get('email')?.touched">
                    Please enter a valid email address
                </div>
            </div>

            <div class="mb-3">
                <label for="password" class="form-label">
                    <i class="bi bi-lock me-2"></i>Password
                </label>
                <div class="input-group">
                    <input [type]="showPassword ? 'text' : 'password'" class="form-control" id="password"
                        formControlName="password" placeholder="Create a password"
                        [class.is-invalid]="signupForm.get('password')?.invalid && signupForm.get('password')?.touched" />
                    <button class="btn btn-outline-secondary" type="button" (click)="togglePasswordVisibility()">
                        <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
                    </button>
                </div>
                <div class="invalid-feedback d-block"
                    *ngIf="signupForm.get('password')?.hasError('minlength') && signupForm.get('password')?.touched">
                    Password must be at least 6 characters long
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-100 signup-btn" [disabled]="signupForm.invalid || isLoading">
                <span *ngIf="!isLoading">
                    <i class="bi bi-person-plus me-2"></i>Sign Up
                </span>
                <span *ngIf="isLoading">
                    <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                    Creating account...
                </span>
            </button>

            <div class="text-center mt-3">
                <p class="text-muted">
                    Already have an account?
                    <a routerLink="/login" class="login-link">Login</a>
                </p>
            </div>
        </form>
    </div>
</div>